{% extends "base.html" %}
{% block title %}–í—ã–±–æ—Ä YouTube –∫–∞–Ω–∞–ª–æ–≤{% endblock %}
{% block content %}
<h1 class="page-title">YouTube –∫–∞–Ω–∞–ª—ã</h1>
<p class="lead">–£–∫–∞–∂–∏—Ç–µ –∫–∞–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ–ª–∏–∫–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –±–µ—Ä—ë—Ç—Å—è –∏–∑ Google Sheets.</p>

<div class="card">
  <div class="card__title">–ö–∞–Ω–∞–ª—ã –∏–∑ —Ç–∞–±–ª–∏—Ü—ã</div>
  <form method="post" action="/run-selected-youtube" class="stack">
    <div class="scroll-area">
      <table class="table">
        <thead>
          <tr>
            <th><input type="checkbox" id="selectAll" title="–í—ã–±—Ä–∞—Ç—å –≤—Å–µ"></th>
            <th>channel_id</th>
            <th>–í–∏–¥–µ–æ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ</th>
          </tr>
        </thead>
        <tbody>
          {% for ch in channels %}
          <tr>
            <td><input type="checkbox" name="channels" value="{{ ch.channel_id }}"></td>
            <td>{{ ch.channel_id }}</td>
            <td>{{ ch.amount }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <button class="btn btn--primary" type="submit">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã</button>
  </form>
</div>
</div>
<script>
  document.getElementById('selectAll').addEventListener('change', function () {
    const checkboxes = document.querySelectorAll('input[name="channels"]');
    checkboxes.forEach(cb => cb.checked = this.checked);
  });
</script>
{% endblock %}